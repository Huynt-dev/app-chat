[{"/home/huynt/Desktop/tesst/app-chat/src/store.js":"1","/home/huynt/Desktop/tesst/app-chat/src/helpers/axios.js":"2","/home/huynt/Desktop/tesst/app-chat/src/routes/index.js":"3","/home/huynt/Desktop/tesst/app-chat/src/routes/PrivateRoute.js":"4","/home/huynt/Desktop/tesst/app-chat/src/redux/rooms/reducer.js":"5","/home/huynt/Desktop/tesst/app-chat/src/layouts/index.js":"6","/home/huynt/Desktop/tesst/app-chat/src/components/message/index.js":"7","/home/huynt/Desktop/tesst/app-chat/src/components/Menu/users/index.js":"8","/home/huynt/Desktop/tesst/app-chat/src/layouts/style.js":"9","/home/huynt/Desktop/tesst/app-chat/src/redux/auth/actions.js":"10","/home/huynt/Desktop/tesst/app-chat/src/components/Menu/main/style.js":"11","/home/huynt/Desktop/tesst/app-chat/src/helpers/useDebounce.js":"12","/home/huynt/Desktop/tesst/app-chat/src/redux/users/action.js":"13","/home/huynt/Desktop/tesst/app-chat/src/containers/Home/style.js":"14","/home/huynt/Desktop/tesst/app-chat/src/theme.js":"15","/home/huynt/Desktop/tesst/app-chat/src/routes/PublicRoute.js":"16","/home/huynt/Desktop/tesst/app-chat/src/containers/Home/index.js":"17","/home/huynt/Desktop/tesst/app-chat/src/containers/Login/style.js":"18","/home/huynt/Desktop/tesst/app-chat/src/components/message/style.js":"19","/home/huynt/Desktop/tesst/app-chat/src/components/Modal/ModalProfile/style.js":"20","/home/huynt/Desktop/tesst/app-chat/src/components/Menu/main/index.js":"21","/home/huynt/Desktop/tesst/app-chat/src/components/Menu/rooms/index.js":"22","/home/huynt/Desktop/tesst/app-chat/src/configs/socket.js":"23","/home/huynt/Desktop/tesst/app-chat/src/redux/auth/reducer.js":"24","/home/huynt/Desktop/tesst/app-chat/src/containers/Login/index.js":"25","/home/huynt/Desktop/tesst/app-chat/src/components/Menu/users/style.js":"26","/home/huynt/Desktop/tesst/app-chat/src/redux/rooms/actions.js":"27","/home/huynt/Desktop/tesst/app-chat/src/components/Menu/rooms/style.js":"28","/home/huynt/Desktop/tesst/app-chat/src/components/Modal/ModalProfile/index.js":"29","/home/huynt/Desktop/tesst/app-chat/src/containers/Register/style.js":"30","/home/huynt/Desktop/tesst/app-chat/src/redux/index.js":"31","/home/huynt/Desktop/tesst/app-chat/src/containers/Register/index.js":"32","/home/huynt/Desktop/tesst/app-chat/src/configs/index.js":"33","/home/huynt/Desktop/tesst/app-chat/src/components/Modal/index.js":"34","/home/huynt/Desktop/tesst/app-chat/src/layouts/LayoutNoMenu.js":"35","/home/huynt/Desktop/tesst/app-chat/src/containers/index.js":"36","/home/huynt/Desktop/tesst/app-chat/src/layouts/MainLayout.js":"37","/home/huynt/Desktop/tesst/app-chat/src/components/index.js":"38","/home/huynt/Desktop/tesst/app-chat/src/redux/users/reducer.js":"39"},{"size":931,"mtime":1614245692708,"results":"40","hashOfConfig":"41"},{"size":342,"mtime":1614245692708,"results":"42","hashOfConfig":"41"},{"size":1318,"mtime":1614245692708,"results":"43","hashOfConfig":"41"},{"size":586,"mtime":1614248667541,"results":"44","hashOfConfig":"41"},{"size":1955,"mtime":1614582435481,"results":"45","hashOfConfig":"41"},{"size":106,"mtime":1614245692708,"results":"46","hashOfConfig":"41"},{"size":3291,"mtime":1614611297756,"results":"47","hashOfConfig":"41"},{"size":3015,"mtime":1614311976484,"results":"48","hashOfConfig":"41"},{"size":170,"mtime":1614248890822,"results":"49","hashOfConfig":"41"},{"size":1545,"mtime":1614675107484,"results":"50","hashOfConfig":"41"},{"size":957,"mtime":1614312785115,"results":"51","hashOfConfig":"41"},{"size":388,"mtime":1614245692708,"results":"52","hashOfConfig":"41"},{"size":497,"mtime":1614612733709,"results":"53","hashOfConfig":"41"},{"size":97,"mtime":1614245692708,"results":"54","hashOfConfig":"41"},{"size":350,"mtime":1614246213328,"results":"55","hashOfConfig":"41"},{"size":388,"mtime":1614245692708,"results":"56","hashOfConfig":"41"},{"size":396,"mtime":1614245692708,"results":"57","hashOfConfig":"41"},{"size":489,"mtime":1614249423050,"results":"58","hashOfConfig":"41"},{"size":4013,"mtime":1614586501574,"results":"59","hashOfConfig":"41"},{"size":357,"mtime":1614245692708,"results":"60","hashOfConfig":"41"},{"size":2996,"mtime":1614673429476,"results":"61","hashOfConfig":"41"},{"size":4977,"mtime":1614582008891,"results":"62","hashOfConfig":"41"},{"size":1140,"mtime":1614517760051,"results":"63","hashOfConfig":"41"},{"size":587,"mtime":1614245692708,"results":"64","hashOfConfig":"41"},{"size":1918,"mtime":1614612939451,"results":"65","hashOfConfig":"41"},{"size":1527,"mtime":1614309554051,"results":"66","hashOfConfig":"41"},{"size":1159,"mtime":1614675633625,"results":"67","hashOfConfig":"41"},{"size":2721,"mtime":1614495656277,"results":"68","hashOfConfig":"41"},{"size":3793,"mtime":1614675069722,"results":"69","hashOfConfig":"41"},{"size":261,"mtime":1614249416914,"results":"70","hashOfConfig":"41"},{"size":317,"mtime":1614245692708,"results":"71","hashOfConfig":"41"},{"size":5349,"mtime":1614245692708,"results":"72","hashOfConfig":"41"},{"size":273,"mtime":1614245692708,"results":"73","hashOfConfig":"41"},{"size":58,"mtime":1614245692708,"results":"74","hashOfConfig":"41"},{"size":223,"mtime":1614245692708,"results":"75","hashOfConfig":"41"},{"size":144,"mtime":1614245692708,"results":"76","hashOfConfig":"41"},{"size":561,"mtime":1614245692708,"results":"77","hashOfConfig":"41"},{"size":202,"mtime":1614245692708,"results":"78","hashOfConfig":"41"},{"size":343,"mtime":1614245692708,"results":"79","hashOfConfig":"41"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},"lu619r",{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"93"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"93"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"93"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"113"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"93"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"93"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"113"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"113"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"93"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"147"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"150"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"113"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"150"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/huynt/Desktop/tesst/app-chat/src/store.js",[],["167","168"],"/home/huynt/Desktop/tesst/app-chat/src/helpers/axios.js",[],"/home/huynt/Desktop/tesst/app-chat/src/routes/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/routes/PrivateRoute.js",[],"/home/huynt/Desktop/tesst/app-chat/src/redux/rooms/reducer.js",[],"/home/huynt/Desktop/tesst/app-chat/src/layouts/index.js",[],["169","170"],"/home/huynt/Desktop/tesst/app-chat/src/components/message/index.js",["171"],"/home/huynt/Desktop/tesst/app-chat/src/components/Menu/users/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/layouts/style.js",[],"/home/huynt/Desktop/tesst/app-chat/src/redux/auth/actions.js",[],"/home/huynt/Desktop/tesst/app-chat/src/components/Menu/main/style.js",[],["172","173"],"/home/huynt/Desktop/tesst/app-chat/src/helpers/useDebounce.js",[],"/home/huynt/Desktop/tesst/app-chat/src/redux/users/action.js",[],"/home/huynt/Desktop/tesst/app-chat/src/containers/Home/style.js",[],"/home/huynt/Desktop/tesst/app-chat/src/theme.js",[],["174","175"],"/home/huynt/Desktop/tesst/app-chat/src/routes/PublicRoute.js",[],"/home/huynt/Desktop/tesst/app-chat/src/containers/Home/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/containers/Login/style.js",[],"/home/huynt/Desktop/tesst/app-chat/src/components/message/style.js",[],["176","177"],"/home/huynt/Desktop/tesst/app-chat/src/components/Modal/ModalProfile/style.js",[],["178","179"],"/home/huynt/Desktop/tesst/app-chat/src/components/Menu/main/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/components/Menu/rooms/index.js",["180","181"],"import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams, withRouter, NavLink } from \"react-router-dom\";\nimport { Badge, Drawer, Menu } from \"antd\";\nimport {\n  Col1,\n  Row1,\n  BoxMessage,\n  AvatarA,\n  Rooms,\n  BoxRoom,\n  SearchRoom,\n  SearchRoom2,\n  MenuMobile,\n} from \"./style\";\nimport { UserOutlined, MessageOutlined } from \"@ant-design/icons\";\nimport { ChatMain } from \"../../index\";\nimport { getRooms, searchRoom, findMessageInRoom } from \"redux/rooms/actions\";\nimport { sendTo, seen } from \"redux/rooms/reducer\";\nimport useDebounce from \"helpers/useDebounce\";\n\nconst Messages = () => {\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const params = useParams();\n  const auth = useSelector((state) => state.auth.user);\n  const rooms = useSelector((state) => state.rooms.room);\n  const countNewMessage = useSelector((state) => state.rooms.countNewMessage);\n  const [isSearching, setIsSearching] = useState(false);\n  const [drawer, setShowDrawer] = useState(false);\n\n  const debouncedSearch = useDebounce(searchValue, 1000);\n\n  useEffect(() => {\n    const callAPI = async () => {\n      if (params.id !== undefined) {\n        dispatch(\n          findMessageInRoom({\n            idRoom: params.id,\n            toUser: params.toUser,\n            history,\n          })\n        );\n        dispatch(sendTo(params.toUser));\n      }\n\n      if (debouncedSearch) {\n        setIsSearching(true);\n        await dispatch(searchRoom(debouncedSearch));\n        setIsSearching(false);\n      } else {\n        dispatch(getRooms());\n      }\n    };\n    callAPI();\n  }, [dispatch, debouncedSearch]);\n\n  const findMessage = (idRoom, toUser) => {\n    dispatch(findMessageInRoom({ idRoom, toUser, history }));\n    dispatch(sendTo(toUser));\n    dispatch(seen({ idRoom, toUser, user: auth._id }));\n  };\n\n  const unSeen = (roomId, userId) => {\n    return countNewMessage\n      .filter((a) => a.room === roomId && a.user === userId)\n      .reduce((total, x) => (x.isSeen === false ? total + 1 : total), 0);\n  };\n\n  const showDrawer = () => {\n    setShowDrawer(true);\n  };\n\n  const onClose = () => {\n    setShowDrawer(false);\n  };\n\n  return (\n    <Row1>\n      <Col1 xs={4} md={8}>\n        <MenuMobile onClick={showDrawer} />\n\n        <Drawer\n          placement=\"left\"\n          closable={false}\n          onClose={onClose}\n          visible={drawer}\n        >\n          <Menu defaultSelectedKeys={[\"/\"]}>\n            <SearchRoom2\n              allowClear\n              className=\"Search\"\n              placeholder=\"tìm kiếm...\"\n              onChange={(e) => setSearchValue(e.target.value)}\n              loading={isSearching}\n            />\n            <Menu.Item key=\"/room\" icon={<MessageOutlined />}>\n              <NavLink to=\"/room\">Messages</NavLink>\n            </Menu.Item>\n            <Menu.Item key=\"/users\" icon={<UserOutlined />}>\n              <NavLink to=\"/users\">Users</NavLink>\n            </Menu.Item>\n          </Menu>\n        </Drawer>\n\n        <SearchRoom\n          allowClear\n          className=\"Search\"\n          placeholder=\"tìm kiếm...\"\n          onChange={(e) => setSearchValue(e.target.value)}\n          loading={isSearching}\n        />\n\n        <BoxRoom>\n          {rooms.map((room) => {\n            return (\n              <div key={room._id}>\n                {room.users\n                  .filter((user) => user._id !== auth._id)\n                  .map((dataUser) => (\n                    <BoxMessage\n                      className={room._id === params.id ? \"active\" : \"\"}\n                      key={room._id}\n                      onClick={() => {\n                        findMessage(room._id, dataUser._id);\n                      }}\n                    >\n                      <Badge\n                        count={unSeen(room._id, dataUser._id)}\n                        size=\"small\"\n                      >\n                        <AvatarA\n                          shape=\"square\"\n                          size={50}\n                          src={dataUser.avatar}\n                          icon={<UserOutlined />}\n                        />\n                      </Badge>\n                      <Rooms>\n                        <p className=\"name\">{dataUser.name}</p>\n                        <p className=\"last-message\">\n                          {room.who.length === 0\n                            ? \"No message yet\"\n                            : room.who === auth.name\n                            ? \"You\" + \": \" + room.lastMessage\n                            : room.who + \": \" + room.lastMessage}\n                        </p>\n                      </Rooms>\n                    </BoxMessage>\n                  ))}\n              </div>\n            );\n          })}\n        </BoxRoom>\n      </Col1>\n      {params.id === undefined ? \"\" : <ChatMain />}\n    </Row1>\n  );\n};\n\nexport default withRouter(Messages);\n","/home/huynt/Desktop/tesst/app-chat/src/configs/socket.js",[],"/home/huynt/Desktop/tesst/app-chat/src/redux/auth/reducer.js",[],"/home/huynt/Desktop/tesst/app-chat/src/containers/Login/index.js",["182"],"/home/huynt/Desktop/tesst/app-chat/src/components/Menu/users/style.js",[],"/home/huynt/Desktop/tesst/app-chat/src/redux/rooms/actions.js",[],"/home/huynt/Desktop/tesst/app-chat/src/components/Menu/rooms/style.js",[],"/home/huynt/Desktop/tesst/app-chat/src/components/Modal/ModalProfile/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/containers/Register/style.js",[],["183","184"],"/home/huynt/Desktop/tesst/app-chat/src/redux/index.js",[],["185","186"],"/home/huynt/Desktop/tesst/app-chat/src/containers/Register/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/configs/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/components/Modal/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/layouts/LayoutNoMenu.js",[],"/home/huynt/Desktop/tesst/app-chat/src/containers/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/layouts/MainLayout.js",[],"/home/huynt/Desktop/tesst/app-chat/src/components/index.js",[],"/home/huynt/Desktop/tesst/app-chat/src/redux/users/reducer.js",[],{"ruleId":"187","replacedBy":"188"},{"ruleId":"189","replacedBy":"190"},{"ruleId":"187","replacedBy":"191"},{"ruleId":"189","replacedBy":"192"},{"ruleId":"193","severity":1,"message":"194","line":12,"column":3,"nodeType":"195","messageId":"196","endLine":12,"endColumn":13},{"ruleId":"187","replacedBy":"197"},{"ruleId":"189","replacedBy":"198"},{"ruleId":"187","replacedBy":"199"},{"ruleId":"189","replacedBy":"200"},{"ruleId":"187","replacedBy":"201"},{"ruleId":"189","replacedBy":"202"},{"ruleId":"187","replacedBy":"203"},{"ruleId":"189","replacedBy":"204"},{"ruleId":"205","severity":1,"message":"206","line":58,"column":6,"nodeType":"207","endLine":58,"endColumn":33,"suggestions":"208"},{"ruleId":"209","severity":1,"message":"210","line":147,"column":37,"nodeType":"211","messageId":"212","endLine":147,"endColumn":38},{"ruleId":"213","severity":1,"message":"214","line":61,"column":9,"nodeType":"215","endLine":61,"endColumn":42},{"ruleId":"187","replacedBy":"216"},{"ruleId":"189","replacedBy":"217"},{"ruleId":"187","replacedBy":"218"},{"ruleId":"189","replacedBy":"219"},"no-native-reassign",["220"],"no-negated-in-lhs",["221"],["220"],["221"],"no-unused-vars","'HeaderPage' is defined but never used.","Identifier","unusedVar",["220"],["221"],["220"],["221"],["220"],["221"],["220"],["221"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history', 'params.id', and 'params.toUser'. Either include them or remove the dependency array.","ArrayExpression",["222"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["220"],["221"],["220"],["221"],"no-global-assign","no-unsafe-negation",{"desc":"223","fix":"224"},"Update the dependencies array to be: [dispatch, debouncedSearch, params.id, params.toUser, history]",{"range":"225","text":"226"},[1708,1735],"[dispatch, debouncedSearch, params.id, params.toUser, history]"]